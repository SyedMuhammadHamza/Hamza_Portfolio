<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Project 3: Consumer Finance Complaints Text classification with PostgreSQL | Syed Muhammad Hamza</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Consumer Finance Complaints Text classification with PostgreSQL Github link Recently I came across The Consumer Complaint Database Published by the Bureau of Consumer Financial Protection, which is a U.S. government agency, “ The Database is a collection of complaints about consumer financial products and services that they sent to companies for response. Complaints are published after the company responds, confirming a commercial relationship with the consumer, or after 15 days, whichever comes first.">
    <meta name="generator" content="Hugo 0.82.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    

  
  
    <link rel="stylesheet" href="https://syedmuhammadhamza.github.io/Hamza_Portfolio/ananke/dist/main.css_5c99d70a7725bacd4c701e995b969fea.css" >
  




    
      

    

    
    
    <meta property="og:title" content="Project 3: Consumer Finance Complaints Text classification with PostgreSQL" />
<meta property="og:description" content="Consumer Finance Complaints Text classification with PostgreSQL Github link Recently I came across The Consumer Complaint Database Published by the Bureau of Consumer Financial Protection, which is a U.S. government agency, “ The Database is a collection of complaints about consumer financial products and services that they sent to companies for response. Complaints are published after the company responds, confirming a commercial relationship with the consumer, or after 15 days, whichever comes first." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://syedmuhammadhamza.github.io/Hamza_Portfolio/post/project-3/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-12-24T10:58:08-04:00" />
<meta property="article:modified_time" content="2020-12-24T10:58:08-04:00" /><meta property="og:site_name" content="Syed Muhammad Hamza" />

<meta itemprop="name" content="Project 3: Consumer Finance Complaints Text classification with PostgreSQL">
<meta itemprop="description" content="Consumer Finance Complaints Text classification with PostgreSQL Github link Recently I came across The Consumer Complaint Database Published by the Bureau of Consumer Financial Protection, which is a U.S. government agency, “ The Database is a collection of complaints about consumer financial products and services that they sent to companies for response. Complaints are published after the company responds, confirming a commercial relationship with the consumer, or after 15 days, whichever comes first."><meta itemprop="datePublished" content="2020-12-24T10:58:08-04:00" />
<meta itemprop="dateModified" content="2020-12-24T10:58:08-04:00" />
<meta itemprop="wordCount" content="1081">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Project 3: Consumer Finance Complaints Text classification with PostgreSQL"/>
<meta name="twitter:description" content="Consumer Finance Complaints Text classification with PostgreSQL Github link Recently I came across The Consumer Complaint Database Published by the Bureau of Consumer Financial Protection, which is a U.S. government agency, “ The Database is a collection of complaints about consumer financial products and services that they sent to companies for response. Complaints are published after the company responds, confirming a commercial relationship with the consumer, or after 15 days, whichever comes first."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  
  
  <header class="cover bg-top" style="background-image: url('https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/EMBEDDING.png');">
    <div class="pb3-m pb6-l bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://syedmuhammadhamza.github.io/Hamza_Portfolio/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Syed Muhammad Hamza
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://syedmuhammadhamza.github.io/Hamza_Portfolio/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://syedmuhammadhamza.github.io/Hamza_Portfolio/blogs/" title="Blogs page">
              Blogs
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://syedmuhammadhamza.github.io/Hamza_Portfolio/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://syedmuhammadhamza.github.io/Hamza_Portfolio/programming-showcase/" title="Programming Showcase page">
              Programming Showcase
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://syedmuhammadhamza.github.io/Hamza_Portfolio/post/" title="Projects page">
              Projects
            </a>
          </li>
          
        </ul>
      
      




<a href="https://twitter.com/Bitstsunami_SMH" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://www.linkedin.com/in/sm-hamza/" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/SyedMuhammadHamza" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>








    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Project 3: Consumer Finance Complaints Text classification with PostgreSQL</h1>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        PROJECTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://syedmuhammadhamza.github.io/Hamza_Portfolio/post/project-3/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://syedmuhammadhamza.github.io/Hamza_Portfolio/post/project-3/&amp;text=Project%203:%20Consumer%20Finance%20Complaints%20Text%20classification%20with%20PostgreSQL" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://syedmuhammadhamza.github.io/Hamza_Portfolio/post/project-3/&amp;title=Project%203:%20Consumer%20Finance%20Complaints%20Text%20classification%20with%20PostgreSQL" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>


      <h1 class="f1 athelas mt3 mb1">Project 3: Consumer Finance Complaints Text classification with PostgreSQL</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-12-24T10:58:08-04:00">December 24, 2020</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><h1 id="consumer-finance-complaints-text-classification-with-postgresql">Consumer Finance Complaints Text classification with PostgreSQL</h1>
<h3 id="github-linkhttpsgithubcomsyedmuhammadhamzaconsumer-finance-complaints-text-classification-with-postgresql"><a href="https://github.com/SyedMuhammadHamza/Consumer-Finance-Complaints-Text-classification-with-PostgreSQL">Github link</a></h3>
<p>Recently I came across <a href="https://catalog.data.gov/dataset/consumer-complaint-database">The Consumer Complaint Database</a> Published by the Bureau of Consumer Financial Protection, which is a U.S. government agency, “ The Database is a collection of complaints about consumer financial products and services that they sent to companies for response. Complaints are published after the company responds, confirming a commercial relationship with the consumer, or after 15 days, whichever comes first. Complaints referred to other regulators, such as complaints about depository institutions with less than $10 billion in assets, are not published in the Consumer Complaint Database ”.</p>
<h2 id="problem-statement">problem Statement</h2>
<p>Classifying Consumer Finance Complaints into one of eleven product categories, The problem is a Text classification, also known as text tagging or text categorization. Text classifiers can automatically analyze text and then assign a set of pre-defined tags or categories based on its content. In this problem, I have taken &lsquo;consumer_complaint_narrative&rsquo;  as “text” and to classify each consumer_complaint_narrative / “text”  into one of eleven pre-defined categories of product.</p>
<p><!-- raw HTML omitted -->Predictors/features/independent = &lsquo;consumer_complaint_narrative&rsquo;<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted -->Response/target/dependent variable = &lsquo;product&rsquo; <!-- raw HTML omitted --></p>
<h2 id="dataset">Dataset</h2>
<p>Dataset can be downloaded from Bureau of Consumer Financial Protection US <a href="https://catalog.data.gov/dataset/consumer-complaint-database">website</a>
The dataset consists of the following,</p>
<table>
<thead>
<tr>
<th style="text-align:left">Field Name</th>
<th style="text-align:right">Data Type</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">complaint_id</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">date_received</td>
<td style="text-align:right">Date</td>
</tr>
<tr>
<td style="text-align:left">product</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">sub_product</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">issue</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">sub_issue</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">sub_issue</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">company_public_response</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">company</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">state</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">zip_code</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">tags</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">consumer_consent_provided</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">submitted_via</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">date_sent</td>
<td style="text-align:right">Date</td>
</tr>
<tr>
<td style="text-align:left">company_response_to_consumer</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">timely_response</td>
<td style="text-align:right">text</td>
</tr>
<tr>
<td style="text-align:left">consumer_disputed</td>
<td style="text-align:right">text</td>
</tr>
</tbody>
</table>
<h2 id="postgresql--database">PostgreSQL  Database</h2>
<p>This dataset provides the perfect opportunity for experimenting with the Database system therefore I ended up setting the PostgreSQL database for this dataset. Here are the following things I have done with it</p>
<h3 id="accessing-postgresql-database-server-from-python-with-odbc">Accessing PostgreSQL Database Server from Python with ODBC</h3>
<p>To establish a connection to my PostgreSQL Database Server I&rsquo;m gonna be using odbc (Open Database Connectivity)
that&rsquo;s the standard that says if you write to through this protocol this standard API then you can work with ODBC it accomplishes DBMS independence by using an ODBC driver as a translation layer between the application and the DBMS. The application uses ODBC functions through an ODBC driver manager with which it is linked, and the driver passes the query to the DBMS. An ODBC driver can be thought of as analogous to a printer driver or other driver, providing a standard set of functions for the application to use, and implementing DBMS-specific functionality. An application that can use ODBC is referred to as &ldquo;ODBC-compliant&rdquo;. Any ODBC-compliant application can access any DBMS for which a driver is installed. Drivers exist for all major DBMSs and it&rsquo;s a plug-and-play kind of thing so there are drivers for ODBC for databases like Oracle, PostgreSQL, MySQL, and  Microsoft SQL Server  but you&rsquo;ve to manually install DBMS of your choice and configure its driver before using it in your python code here I&rsquo;ve already done it for PostgreSQL hence, I can use my PostgreSQL DRIVER named {PostgreSQL Unicode} in my code to establish the connection to PostgreSQL Database</p>
<h3 id="created-tables-for-the-data">Created tables for the data</h3>
<p>As mentioned earlier for this classification I&rsquo;m going to use  &lsquo;consumer_complaint_narrative&rsquo;  as predictors/features/independent variables and &lsquo;product&rsquo; as Response/target/dependent variable which has a total of eleven classes/categories/labels therefore I&rsquo;m going to create a total of eleven tables in my Database</p>
<p>following are the tables being created in the database</p>
<ul>
<li>Mortgage'</li>
<li>CreditReporting'</li>
<li>StudentLoan</li>
<li>DebtCollection 5CreditCard</li>
<li>BankAccountORservice</li>
<li>ConsumerLoan</li>
<li>MoneyTransfers</li>
<li>PaydayLoan</li>
<li>PrepaidCard</li>
<li>therFinancialService</li>
</ul>
<h3 id="loaded-data-into-tables-from-data-frames">Loaded Data into tables from data frames</h3>
<p>After creating my tables now I&rsquo;ve to load data from data frames into tables</p>
<h3 id="using-views">Using views</h3>
<p>I have to deal with the missing values in my features. but in this problem of text classification, the only field I will use as features is &lsquo;consumer_complaint_narrative&rsquo;, which I will later convert from text into the numeric form, but before that, I have to deal with missing values in this &lsquo;consumer_complaint_narrative&rsquo; Text field and in the case of text classification I can&rsquo;t use imputation to set my missing values to some value, therefore, I have to consider only those columns that have &lsquo;consumer_complaint_narrative&rsquo; not equal to NULL and the way I&rsquo;m going to deal with missing values is by using PostgreSQL Views and UNION operation by first creating twenty-two Views, eleven for complaints where &lsquo;consumer_complaint_narrative&rsquo; is not null for all eleven original tables and eleven where&rsquo;consumer_complaint_narrative' is null for all eleven original tables and then finally taking UNION of eleven Views from twenty-two Views where &lsquo;consumer_complaint_narrative&rsquo; is not null
<figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/DBMS_ER_diagram_%28UMLnotation%29.jpeg"/> 
</figure>
</p>
<h3 id="union">Union</h3>
<p>Finally taking UNION of eleven views and created a new view with the name &ldquo;with_complaints&rdquo; and loaded it into a pandas data frame
<figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/DBMS_ER_diagram_%28UMLnotation%29%281%29.jpeg"/> 
</figure>
</p>
<h2 id="exploratory-data-analysis-using-postgresql">Exploratory Data Analysis using PostgreSQL</h2>
<p>EDA by using SQL queries can be more flexible instead of doing it on Pandas Dataframes but be cautious it can act as a double-edged since it&rsquo;s not very efficient and faster nevertheless the flexible queries you can pose for EDA is phenomenal</p>
<h3 id="most-notorious-credit-card-companies-by-number-of-complaints">most notorious Credit card companies by number of complaints</h3>
<figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/EDA.png"/> 
</figure>

<h3 id="class-imbalance-check">Class Imbalance check</h3>
<p>To do classification, I need to know if my data is suffering from the Class Imbalance Problem where class distributions are highly imbalanced that will be reflected by poor precision. recall and F1 score hence now I&rsquo;m gonna do a Class Imbalance check</p>
<p><figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/PIE.jpg"/> 
</figure>

<figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/IMBALANCE.png"/> 
</figure>
</p>
<h3 id="visualizing-the-tf-idf-weighted-vectors">Visualizing the TF-IDF weighted Vectors</h3>
<p>Visualizing embeddings give us a better understanding of how successful our embeddings are going to work as classifiers by separating different classes from higher dimensional feature space to some lower two-dimensional feature space but this requires dimensionality reduction before we can visualize it.
The various methods used for dimensionality reduction include:</p>
<ul>
<li>Principal Component Analysis (PCA)</li>
<li>Linear Discriminant Analysis (LDA)</li>
<li>Generalized Discriminant Analysis (GDA)</li>
<li>Singular Value Decomposition (SVD)</li>
</ul>
<p>For this problem, we&rsquo;ve used Truncated-SVD slightly modified version of SVD the difference between Truncated-SVD and PCA is that truncated-SVD doesn&rsquo;t center the data before computing values First, first, we&rsquo;ve converted our higher dimensional TF-IDF Embedding/Bag of words Embedding into two-dimensional using Truncated-SVD then visualize our 2D embeddings using a scatter plot we&rsquo;ve done it for each class so we can understand how each class separates itself from others.</p>
<figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/EMBEDDING.png"/> 
</figure>

<h2 id="model-building-and-evaluation">Model Building and Evaluation</h2>
<h3 id="onevsrest-support-vector-machine-classifier">OneVsRest Support Vector Machine Classifier</h3>
<p><figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/REPORT1.jpg"/> 
</figure>

<figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/SCORE1.png"/> 
</figure>
</p>
<h3 id="randomforestclassifier">RandomForestClassifier</h3>
<p><figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/REPORT2.jpg"/> 
</figure>

<figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/SCORE2.png"/> 
</figure>
</p>
<h3 id="gradientboostingclassifier">GradientBoostingClassifier</h3>
<p><figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/REPORT3.jpg"/> 
</figure>

<figure>
    <img src="https://syedmuhammadhamza.github.io/Hamza_Portfolio/images/SCORE3.png"/> 
</figure>
</p>
<h2 id="model-performance">Model performance</h2>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">Accuracy</th>
<th style="text-align:right">Recall</th>
<th style="text-align:right">Precision</th>
<th style="text-align:right">F1</th>
</tr>
</thead>
<tbody>
<tr>
<td>OneVsRest Support Vector Machine Classifier</td>
<td style="text-align:center">85%</td>
<td style="text-align:right">0.85</td>
<td style="text-align:right">0.86</td>
<td style="text-align:right">0.85</td>
</tr>
<tr>
<td>RandomForestClassifier</td>
<td style="text-align:center">82%</td>
<td style="text-align:right">0.82</td>
<td style="text-align:right">0.82</td>
<td style="text-align:right">0.81</td>
</tr>
<tr>
<td>GradientBoostingClassifier</td>
<td style="text-align:center">83%</td>
<td style="text-align:right">0.83</td>
<td style="text-align:right">0.83</td>
<td style="text-align:right">0.82</td>
</tr>
</tbody>
</table>
<h2 id="conclusion">Conclusion</h2>
<p>The classification reports summarize the result and I concluded that The performance of my OneVsRest Support Vector Machine Classifier outperformed both ensembling methods namely RandomForestClassifier and GradientBoostingClassifier</p>
<h2 id="technologies">Technologies</h2>
<ul>
<li>Python</li>
<li>Scikit-learn</li>
<li>Matplotlib &amp; Seaborn for data visualization</li>
<li>NLTK</li>
<li>TensorFlow</li>
<li>SMOTE</li>
<li>Sklearn for model building</li>
</ul>
<p>©SyedMuhammadHamza Licensed under <a href="">MIT License</a></p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://syedmuhammadhamza.github.io/Hamza_Portfolio/" >
    &copy;  Syed Muhammad Hamza 2021 
  </a>
    <div>




<a href="https://twitter.com/Bitstsunami_SMH" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://www.linkedin.com/in/sm-hamza/" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/SyedMuhammadHamza" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>







</div>
  </div>
</footer>

  </body>
</html>
